<html>
<head>
<title>Sofya User Manual: File Viewers</title>
</head>
<body>

<h2 style="text-align:center">Running the &#931&#959&#966&#943&#945 Viewers</h2>

<p>The viewers are used to display and save interpretable forms of the various
output files generated by &#931&#959&#966&#943&#945 tools. They are provided
to facilitate understanding and reporting of the various analyses supported by
&#931&#959&#966&#943&#945.</p>

<a name="cfview"></a>
<h3>CFViewer</h3>
<p>This viewer is used to view the control flow graphs produced for the methods in
a class. You must first run the control flow graph builder on the class for which
you want to view control flow information. Then run the command:</p>

<p><code>java sofya.viewers.CFViewer [-tag <i>tag</i>] &lt;classname&gt;.java
 [output_file]</code></p>

<p>Note that you <em>should</em> include the <em>.java</em> extension. The
CFViewer will automatically locate the control flow file in the &#931&#959&#966&#943&#945
database and display the formatted contents. If you specify a value for
<code>output_file</code>, the data will be written to the specified file.</p>

<a name="mapview"></a>
<h3>MapViewer</h3>
<p>This viewer is used to view the mapping information produced for the methods in
a class. This includes a list of the basic blocks in each method, their types, subtypes,
bytecode start offsets and bytecode end offsets. You must first run the control flow graph
builder on the class for which you want to view map information. Then run the command:</p>

<p><code>java sofya.viewers.MapViewer [-tag <i>tag</i>] &lt;classname&gt;.java
 [output_file]</code></p>

<p>Note that you <em>should</em> include the <em>.java</em> extension. The
MapViewer will automatically locate the map file in the &#931&#959&#966&#943&#945 database
and display the formatted contents. If you specify a value for
<code>output_file</code>, the data will be written to the specified file.</p>

<a name="trview"></a>
<h3>TraceViewer</h3>
<p>This viewer is used to view the trace information collected from the execution of
an instrumented program by a coverage tracer. If will display the trace events that were
recorded during execution of the program. The type of the trace (currently either basic
block or branch) is automatically detected and displayed appropriately. The viewer is
run with the following command:</p>

<p><code>java sofya.viewers.TraceViewer &lt;tracefile&gt;</code> 
<code>[output_file]</code></p>

<p>The <em>.tr</em> extension and any qualifying path information should be included.
This viewer does not automatically find the trace file in the database directory. It will
display the formatted contents of the trace file, unless you specify a value for
<code>output_file</code>, in which case the data will be written to the specified
file instead.</p>

<a name="thview"></a>
<h3>TestHistoryViewer</h3>
<p>This viewer is used to view a test history file generated by the test history
builder. There are two possible ways to view a test history file. The first lists each block
and the set of tests that exercised it during execution. The second lists each block, the
number of tests that exercised it during execution, and the percentage of the total number
of tests that exercised it. To use it, run the command:</p>

<p><code>java sofya.viewers.TestHistoryViewer &lt;histfile&gt; [LIST | COUNT] [output_file]</code><br> 

<p>The LIST option produces the first view of the history file, whereas the COUNT option
produces the second view. If specified, the output will be stored to
<code>output_file<code>.</p>

<a name="tsview"></a>
<h3>TestSelectionViewer</h3>
<p>This viewer is used to display the stored results of test selection performed
by <code>DejaVu</code>. There are three possible ways to view a test selection file.
The first displays each method in the program contributing at least one test
selection with a tabular list of all the test selections resulting the changes to
that method. The second gives a &quot;statistical&quot; view that lists each
method with the total number of tests and the corresponding percentage of the
test suite selected as a result of the changes to that method. The final view
simply lists all of the selected tests, and is intended primarily as an input
to other tools. To use this viewer, run the command:</p>

<p><code>java sofya.viewers.TestSelectionViewer &lt;selectionfile&gt;
[-t &lt;t|s|l&gt;] [output_file]</code></p>

<p>The parameter <code>-t</code> selects the output format, where <i>t</i>
is the tabular format, <i>s</i> is the statistical format, and
<i>l</i> is the list format. If you specify a value for
<code>output_file</code>, the data will be written to the specified file.</p>

<a name="bsview"></a>
<h3>ByteSourceViewer</h3>
<p>This viewer is used to view the byte code instructions of a Java class.
To use it, run the command:</p>

<p><code>java sofya.viewers.ByteSourceViewer &lt;classname&gt; [output_file]
</code></p>

<p>If the <em>.class</em> extension is included, the viewer will treat the given name as an
absolute path, otherwise it will attempt to load the class from the classpath.
It will display the byte code instructions for each method in the class in a readable
format. If you specify a value for <code>output_file</code>, the data will be written to the
specified file.</p>

<a name="sourceview"></a>
<h3>SourceViewer</h3>
<p>This viewer is used to display the contents of a Java source code file, annotated
with line numbers. To use it, run the command:</p>

<p><code>java sofya.viewers.SourceViewer &lt;sourcefile&gt;</code> 
<code>[output_file]</code></p>

<p>The <em>.java</em> extension and any qualifying path information should be included.
This viewer does not automatically find the file in the database directory. It will
display the contents of the source file, annotated with line numbers. If you specify a
value for <code>output_file</code>, the data will be written to the specified file.</p>

<p>&nbsp;</p>
</body>
</html>