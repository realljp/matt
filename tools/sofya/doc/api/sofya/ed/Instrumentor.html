<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Fri Oct 28 08:36:11 CDT 2011 -->
<TITLE>
Instrumentor (Sofya API Documentation)
</TITLE>

<META NAME="date" CONTENT="2011-10-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Instrumentor (Sofya API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/ed/CoverageListenerManager.html" title="interface in sofya.ed"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sofya/ed/ParameterValueAbsentException.html" title="class in sofya.ed"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/ed/Instrumentor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Instrumentor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.ed</FONT>
<BR>
Class Instrumentor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>sofya.ed.Instrumentor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.bcel.generic.InstructionConstants</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../sofya/ed/semantic/SemanticInstrumentor.html" title="class in sofya.ed.semantic">SemanticInstrumentor</A>, <A HREF="../../sofya/ed/structural/StructuralInstrumentor.html" title="class in sofya.ed.structural">StructuralInstrumentor</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>Instrumentor</B><DT>extends java.lang.Object<DT>implements org.apache.bcel.generic.InstructionConstants</DL>
</PRE>

<P>
Abstract base class for all instrumentors, which instrument Java class
 files for execution by an event dispatcher.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>01/19/2007</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
<DT><B>See Also:</B><DD><A HREF="../../sofya/ed/cfInstrumentor.html" title="class in sofya.ed"><CODE>cfInstrumentor</CODE></A>, 
<A HREF="../../sofya/ed/semantic/SemanticInstrumentor.html" title="class in sofya.ed.semantic"><CODE>SemanticInstrumentor</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.apache.bcel.generic.InstructionConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface org.apache.bcel.generic.InstructionConstants</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>org.apache.bcel.generic.InstructionConstants.Clinit</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classHasMain">classHasMain</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the class has a <code>main</code> method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#classHasStaticInit">classHasStaticInit</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the class has a static initializer
        (<code>&lt;clinit&gt;</code> method).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#className">className</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the class currently loaded by the instrumentor, as provided
        in the constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.generic.ConstantPoolGen</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#cpg">cpg</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BCEL data structure representing the class constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#fullClassName">fullClassName</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fully qualified name of the class currently loaded by the
        instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map&lt;java.lang.Object,java.lang.Object&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#handlerStarts">handlerStarts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cache of instruction handles that begin exception handlers, used
        by sequence instrumentation to guarantee that exceptional returns
        from calls will properly record the change in method to the trace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.generic.InstructionFactory</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#iFactory">iFactory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory object used to generate more complex instructions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.classfile.JavaClass</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#javaClass">javaClass</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BCEL data structure representing the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.generic.ClassGen</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#javaClassFile">javaClassFile</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BCEL data structure allowing more advanced modifications to class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#lastInstrumented">lastInstrumented</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of method last instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.bcel.classfile.Method[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#methods">methods</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collection of uninstrumented methods in the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#mSignature">mSignature</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signature of the method currently referenced by instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#starterInserted">starterInserted</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag indicating whether the call to <code>SocketProbe.start</code> has
        been inserted.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.bcel.generic.InstructionConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface org.apache.bcel.generic.InstructionConstants</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>AALOAD, AASTORE, ACONST_NULL, ALOAD_0, ALOAD_1, ALOAD_2, ARETURN, ARRAYLENGTH, ASTORE_0, ASTORE_1, ASTORE_2, ATHROW, BALOAD, BASTORE, bla, CALOAD, CASTORE, D2F, D2I, D2L, DADD, DALOAD, DASTORE, DCMPG, DCMPL, DCONST_0, DCONST_1, DDIV, DMUL, DNEG, DREM, DRETURN, DSUB, DUP, DUP_X1, DUP_X2, DUP2, DUP2_X1, DUP2_X2, F2D, F2I, F2L, FADD, FALOAD, FASTORE, FCMPG, FCMPL, FCONST_0, FCONST_1, FCONST_2, FDIV, FMUL, FNEG, FREM, FRETURN, FSUB, I2B, I2C, I2D, I2F, I2L, I2S, IADD, IALOAD, IAND, IASTORE, ICONST_0, ICONST_1, ICONST_2, ICONST_3, ICONST_4, ICONST_5, ICONST_M1, IDIV, ILOAD_0, ILOAD_1, ILOAD_2, IMUL, INEG, INSTRUCTIONS, IOR, IREM, IRETURN, ISHL, ISHR, ISTORE_0, ISTORE_1, ISTORE_2, ISUB, IUSHR, IXOR, L2D, L2F, L2I, LADD, LALOAD, LAND, LASTORE, LCMP, LCONST_0, LCONST_1, LDIV, LMUL, LNEG, LOR, LREM, LRETURN, LSHL, LSHR, LSUB, LUSHR, LXOR, MONITORENTER, MONITOREXIT, NOP, POP, POP2, RETURN, SALOAD, SASTORE, SWAP, THIS</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#Instrumentor()">Instrumentor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#cacheHandlerStarts(org.apache.bcel.generic.CodeExceptionGen[])">cacheHandlerStarts</A></B>(org.apache.bcel.generic.CodeExceptionGen[]&nbsp;excHandlers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the exception handlers associated with the method and caches
 the starting instruction handle for each handler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.bcel.classfile.JavaClass</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#generateClass()">generateClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the instrumented class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getClassName()">getClassName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the class which is currently loaded in the
 instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getLastInstrumented()">getLastInstrumented</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of the last method instrumented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getMethodCount()">getMethodCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the number of methods in the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getMethodName(int)">getMethodName</A></B>(int&nbsp;methodIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the name of a method in the class method array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getMethodSignature(int)">getMethodSignature</A></B>(int&nbsp;methodIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the signature of a method in the class method array, as a string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#getQualifiedName()">getQualifiedName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the fully qualified name of the class (includes package name)
 which is currently loaded in the instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#hasMain()">hasMain</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether the class has a main method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#hasStaticInit()">hasStaticInit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether the class has a static initializer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the instrumentor, making it ready to instrument methods in
 the class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;org.apache.bcel.classfile.Method</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instrument(org.apache.bcel.classfile.Method, int, boolean)">instrument</A></B>(org.apache.bcel.classfile.Method&nbsp;m,
           int&nbsp;methodIndex,
           boolean&nbsp;insertStarter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instruments a method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instrument(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[], boolean)">instrument</A></B>(java.lang.String&nbsp;methodName,
           org.apache.bcel.generic.Type&nbsp;returnType,
           org.apache.bcel.generic.Type[]&nbsp;argumentTypes,
           boolean&nbsp;insertStarter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instruments the method with the given name and signature using the
 current instrumentation settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()">instrumentAll</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instruments every method in the class using the current instrumentation
 settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#isNative(org.apache.bcel.generic.INVOKESTATIC, org.apache.bcel.generic.ConstantPoolGen)">isNative</A></B>(org.apache.bcel.generic.INVOKESTATIC&nbsp;call,
         org.apache.bcel.generic.ConstantPoolGen&nbsp;cpg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether a static method is implemented in native code.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#isPossiblyNative(org.apache.bcel.generic.InvokeInstruction, org.apache.bcel.generic.ConstantPoolGen, sofya.graphs.irg.IRG)">isPossiblyNative</A></B>(org.apache.bcel.generic.InvokeInstruction&nbsp;call,
                 org.apache.bcel.generic.ConstantPoolGen&nbsp;cpg,
                 <A HREF="../../sofya/graphs/irg/IRG.html" title="class in sofya.graphs.irg">IRG</A>&nbsp;irg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reports whether a method call might possibly bind to a native
 implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#loadClass(java.lang.String)">loadClass</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a new class into the instrumentor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#loadClass(java.lang.String, java.io.InputStream)">loadClass</A></B>(java.lang.String&nbsp;className,
          java.io.InputStream&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a new class into the instrumentor, from a given stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#parseClass(java.lang.String, java.io.InputStream)">parseClass</A></B>(java.lang.String&nbsp;className,
           java.io.InputStream&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses the class, making it ready for instrumentation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#reloadClass()">reloadClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reloads the current class from file, destroying any instrumentation
 that has been performed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#reloadMethod(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])">reloadMethod</A></B>(java.lang.String&nbsp;methodName,
             org.apache.bcel.generic.Type&nbsp;returnType,
             org.apache.bcel.generic.Type[]&nbsp;argumentTypes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reloads a method, destroying any instrumentation previously applied to
 it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/ed/Instrumentor.html#writeClass(java.io.OutputStream)">writeClass</A></B>(java.io.OutputStream&nbsp;dest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the binary instrumented class data to a stream.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="javaClass"><!-- --></A><H3>
javaClass</H3>
<PRE>
protected org.apache.bcel.classfile.JavaClass <B>javaClass</B></PRE>
<DL>
<DD>BCEL data structure representing the class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="javaClassFile"><!-- --></A><H3>
javaClassFile</H3>
<PRE>
protected org.apache.bcel.generic.ClassGen <B>javaClassFile</B></PRE>
<DL>
<DD>BCEL data structure allowing more advanced modifications to class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="cpg"><!-- --></A><H3>
cpg</H3>
<PRE>
protected org.apache.bcel.generic.ConstantPoolGen <B>cpg</B></PRE>
<DL>
<DD>BCEL data structure representing the class constant pool.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="methods"><!-- --></A><H3>
methods</H3>
<PRE>
protected org.apache.bcel.classfile.Method[] <B>methods</B></PRE>
<DL>
<DD>Collection of uninstrumented methods in the class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="iFactory"><!-- --></A><H3>
iFactory</H3>
<PRE>
protected org.apache.bcel.generic.InstructionFactory <B>iFactory</B></PRE>
<DL>
<DD>Factory object used to generate more complex instructions.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="className"><!-- --></A><H3>
className</H3>
<PRE>
protected java.lang.String <B>className</B></PRE>
<DL>
<DD>Name of the class currently loaded by the instrumentor, as provided
        in the constructor.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="fullClassName"><!-- --></A><H3>
fullClassName</H3>
<PRE>
protected java.lang.String <B>fullClassName</B></PRE>
<DL>
<DD>Fully qualified name of the class currently loaded by the
        instrumentor.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="lastInstrumented"><!-- --></A><H3>
lastInstrumented</H3>
<PRE>
protected java.lang.String <B>lastInstrumented</B></PRE>
<DL>
<DD>Name of method last instrumented.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classHasMain"><!-- --></A><H3>
classHasMain</H3>
<PRE>
protected boolean <B>classHasMain</B></PRE>
<DL>
<DD>Flag indicating whether the class has a <code>main</code> method.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="classHasStaticInit"><!-- --></A><H3>
classHasStaticInit</H3>
<PRE>
protected boolean <B>classHasStaticInit</B></PRE>
<DL>
<DD>Flag indicating whether the class has a static initializer
        (<code>&lt;clinit&gt;</code> method).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="starterInserted"><!-- --></A><H3>
starterInserted</H3>
<PRE>
protected boolean <B>starterInserted</B></PRE>
<DL>
<DD>Flag indicating whether the call to <code>SocketProbe.start</code> has
        been inserted.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mSignature"><!-- --></A><H3>
mSignature</H3>
<PRE>
protected java.lang.String <B>mSignature</B></PRE>
<DL>
<DD>Signature of the method currently referenced by instrumentation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="handlerStarts"><!-- --></A><H3>
handlerStarts</H3>
<PRE>
protected java.util.Map&lt;java.lang.Object,java.lang.Object&gt; <B>handlerStarts</B></PRE>
<DL>
<DD>Cache of instruction handles that begin exception handlers, used
        by sequence instrumentation to guarantee that exceptional returns
        from calls will properly record the change in method to the trace.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Instrumentor()"><!-- --></A><H3>
Instrumentor</H3>
<PRE>
protected <B>Instrumentor</B>()</PRE>
<DL>
<DD>Default constructor.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="parseClass(java.lang.String, java.io.InputStream)"><!-- --></A><H3>
parseClass</H3>
<PRE>
protected void <B>parseClass</B>(java.lang.String&nbsp;className,
                          java.io.InputStream&nbsp;source)
                   throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                          java.io.IOException,
                          java.lang.ClassFormatError</PRE>
<DL>
<DD>Parses the class, making it ready for instrumentation.

 <p>Uses BCEL to parse the class file and initialize the internal data
 structures used for inserting instrumentation.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be parsed.<DD><CODE>source</CODE> - Stream from which the class should be parsed. May be
 <code>null</code>, in which case this method will attempt to load
 the class from the classpath or the filesystem (in that order).
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DD>
</DL>
<HR>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
protected void <B>init</B>()
             throws java.io.IOException</PRE>
<DL>
<DD>Initializes the instrumentor, making it ready to instrument methods in
 the class.

 Adds the instrumentation method references to the class constant
 pool. Determines if the class has a static initializer and/or
 <code>main</code> method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadClass(java.lang.String)"><!-- --></A><H3>
loadClass</H3>
<PRE>
public void <B>loadClass</B>(java.lang.String&nbsp;className)
               throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                      java.io.FileNotFoundException,
                      java.io.IOException,
                      java.lang.ClassFormatError,
                      java.lang.Exception</PRE>
<DL>
<DD>Loads a new class into the instrumentor.

 <p><b>Note:</b> If <A HREF="../../sofya/ed/Instrumentor.html#writeClass(java.io.OutputStream)"><CODE>writeClass(java.io.OutputStream)</CODE></A> is not called before
 this method, any instrumentation performed on the last loaded class
 will be lost.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be loaded.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to load the
 class.
<DD><CODE>java.io.FileNotFoundException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadClass(java.lang.String, java.io.InputStream)"><!-- --></A><H3>
loadClass</H3>
<PRE>
public void <B>loadClass</B>(java.lang.String&nbsp;className,
                      java.io.InputStream&nbsp;source)
               throws <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                      java.io.IOException,
                      java.lang.ClassFormatError,
                      java.lang.Exception</PRE>
<DL>
<DD>Loads a new class into the instrumentor, from a given stream.

 <p><b>Note:</b> If <A HREF="../../sofya/ed/Instrumentor.html#writeClass(java.io.OutputStream)"><CODE>writeClass(java.io.OutputStream)</CODE></A> is not called before
 this method, any instrumentation performed on the last loaded class
 will be lost.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - Name of the class to be loaded.<DD><CODE>source</CODE> - Stream from which the class should be read.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If the specified class is an interface.
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If BCEL cannot parse the class.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to
 load the class.</DL>
</DD>
</DL>
<HR>

<A NAME="reloadClass()"><!-- --></A><H3>
reloadClass</H3>
<PRE>
public void <B>reloadClass</B>()
                 throws java.io.IOException,
                        java.lang.ClassFormatError,
                        java.lang.Exception</PRE>
<DL>
<DD>Reloads the current class from file, destroying any instrumentation
 that has been performed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - If there is an error reading the class file.
<DD><CODE>java.lang.ClassFormatError</CODE> - If the class file cannot be parsed.
<DD><CODE>java.lang.Exception</CODE> - If any other error is raised attempting to parse the
 class.</DL>
</DD>
</DL>
<HR>

<A NAME="reloadMethod(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[])"><!-- --></A><H3>
reloadMethod</H3>
<PRE>
public void <B>reloadMethod</B>(java.lang.String&nbsp;methodName,
                         org.apache.bcel.generic.Type&nbsp;returnType,
                         org.apache.bcel.generic.Type[]&nbsp;argumentTypes)
                  throws <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></PRE>
<DL>
<DD>Reloads a method, destroying any instrumentation previously applied to
 it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodName</CODE> - Name of the method to be reloaded.<DD><CODE>returnType</CODE> - Return type of the method.<DD><CODE>argumentTypes</CODE> - The types of the arguments to the method. Together
 with the return type, these constitute the signature which will be used
 to identify a match.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If no method matching the specified name
 and signature can be found.</DL>
</DD>
</DL>
<HR>

<A NAME="getClassName()"><!-- --></A><H3>
getClassName</H3>
<PRE>
public java.lang.String <B>getClassName</B>()</PRE>
<DL>
<DD>Gets the name of the class which is currently loaded in the
 instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the class which is being handled by this
 instrumentor.</DL>
</DD>
</DL>
<HR>

<A NAME="getQualifiedName()"><!-- --></A><H3>
getQualifiedName</H3>
<PRE>
public java.lang.String <B>getQualifiedName</B>()</PRE>
<DL>
<DD>Gets the fully qualified name of the class (includes package name)
 which is currently loaded in the instrumentor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The fully qualified name of the class which is being handled
 by this instrumentor.</DL>
</DD>
</DL>
<HR>

<A NAME="getMethodCount()"><!-- --></A><H3>
getMethodCount</H3>
<PRE>
public int <B>getMethodCount</B>()</PRE>
<DL>
<DD>Gets the number of methods in the class.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The number of methods found in the class.</DL>
</DD>
</DL>
<HR>

<A NAME="getMethodName(int)"><!-- --></A><H3>
getMethodName</H3>
<PRE>
public java.lang.String <B>getMethodName</B>(int&nbsp;methodIndex)</PRE>
<DL>
<DD>Gets the name of a method in the class method array.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodIndex</CODE> - Index of the method whose name is to be retrieved.
<DT><B>Returns:</B><DD>The name of the method at the given location in the method
 array.</DL>
</DD>
</DL>
<HR>

<A NAME="getMethodSignature(int)"><!-- --></A><H3>
getMethodSignature</H3>
<PRE>
public java.lang.String <B>getMethodSignature</B>(int&nbsp;methodIndex)</PRE>
<DL>
<DD>Gets the signature of a method in the class method array, as a string.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodIndex</CODE> - Index of the method whose name is to be retrieved.
<DT><B>Returns:</B><DD>The signature of the method at the given location in the method
 array.</DL>
</DD>
</DL>
<HR>

<A NAME="getLastInstrumented()"><!-- --></A><H3>
getLastInstrumented</H3>
<PRE>
public java.lang.String <B>getLastInstrumented</B>()</PRE>
<DL>
<DD>Gets the name of the last method instrumented.

 <p>This may be useful to determine when a method is actually
 instrumented. Methods declared as <code>native</code>,
 <code>abstract</code>, or which have no method body will not cause
 the value returned by this method to be updated.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the last method successfully instrumented, or
 <code>null</code> if no method has been instrumented yet.</DL>
</DD>
</DL>
<HR>

<A NAME="hasMain()"><!-- --></A><H3>
hasMain</H3>
<PRE>
public boolean <B>hasMain</B>()</PRE>
<DL>
<DD>Reports whether the class has a main method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the class has a <code>main</code> method,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="hasStaticInit()"><!-- --></A><H3>
hasStaticInit</H3>
<PRE>
public boolean <B>hasStaticInit</B>()</PRE>
<DL>
<DD>Reports whether the class has a static initializer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the class has a
 <code>&lt;clinit&gt;</code> method, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="instrumentAll()"><!-- --></A><H3>
instrumentAll</H3>
<PRE>
public void <B>instrumentAll</B>()</PRE>
<DL>
<DD>Instruments every method in the class using the current instrumentation
 settings. This will overwrite any instrumentation previously applied to
 the methods.

 <p>This method will automatically determine the correct method into
 which to insert the call to <code>SocketProbe.start</code>.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="instrument(java.lang.String, org.apache.bcel.generic.Type, org.apache.bcel.generic.Type[], boolean)"><!-- --></A><H3>
instrument</H3>
<PRE>
public void <B>instrument</B>(java.lang.String&nbsp;methodName,
                       org.apache.bcel.generic.Type&nbsp;returnType,
                       org.apache.bcel.generic.Type[]&nbsp;argumentTypes,
                       boolean&nbsp;insertStarter)
                throws <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></PRE>
<DL>
<DD>Instruments the method with the given name and signature using the
 current instrumentation settings. This will overwrite any
 instrumentation previously applied to the method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>methodName</CODE> - Name of the method to be reloaded.<DD><CODE>returnType</CODE> - Return type of the method.<DD><CODE>argumentTypes</CODE> - The types of the arguments to the method. Together
 with the return type, these constitute the signature which will be used
 to identify a match.<DD><CODE>insertStarter</CODE> - Flag specifying whether call to
 <code>SocketProbe.start</code> should be unconditionally inserted at
 the beginning of this method. The <code>SocketProbe.start</code> method
 is guarded against multiple invocations, such that only the first
 occurrence during execution has any effect. Nonetheless, setting this
 flag should be done with discretion and is generally discouraged. Note
 also that the <A HREF="../../sofya/ed/Instrumentor.html#instrumentAll()"><CODE>instrumentAll()</CODE></A> method will cause the
 call to be automatically inserted in the appropriate location.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If no method matching the specified
 name and signature can be found.</DL>
</DD>
</DL>
<HR>

<A NAME="instrument(org.apache.bcel.classfile.Method, int, boolean)"><!-- --></A><H3>
instrument</H3>
<PRE>
protected abstract org.apache.bcel.classfile.Method <B>instrument</B>(org.apache.bcel.classfile.Method&nbsp;m,
                                                               int&nbsp;methodIndex,
                                                               boolean&nbsp;insertStarter)</PRE>
<DL>
<DD>Instruments a method.

 <p>Performs the actual instrumentation and update of the method in the
 class.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - Method to be instrumented.<DD><CODE>methodIndex</CODE> - Index to the method in the class method array.<DD><CODE>insertStarter</CODE> - If <code>true</code>, force the instrumentor to
 insert a call to <code>SocketProbe.start</code> at the beginning of
 this method, otherwise it will be determined automatically whether it
 should be inserted.
<DT><B>Returns:</B><DD>The instrumented method. If the method is <code>native</code>,
 <code>abstract</code>, or has no body, it is returned unchanged.</DL>
</DD>
</DL>
<HR>

<A NAME="generateClass()"><!-- --></A><H3>
generateClass</H3>
<PRE>
public org.apache.bcel.classfile.JavaClass <B>generateClass</B>()</PRE>
<DL>
<DD>Gets the instrumented class.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The BCEL object representing the instrumented class.</DL>
</DD>
</DL>
<HR>

<A NAME="writeClass(java.io.OutputStream)"><!-- --></A><H3>
writeClass</H3>
<PRE>
public void <B>writeClass</B>(java.io.OutputStream&nbsp;dest)
                throws java.io.IOException</PRE>
<DL>
<DD>Writes the binary instrumented class data to a stream.

 <p>The class data written constitutes a valid Java class file. In
 other words, if the output stream is a file, the resulting file will
 be a valid class file containing any instrumentation that was
 applied.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dest</CODE> - Output stream to which class is to be written.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - If there is an error writing to the stream.</DL>
</DD>
</DL>
<HR>

<A NAME="cacheHandlerStarts(org.apache.bcel.generic.CodeExceptionGen[])"><!-- --></A><H3>
cacheHandlerStarts</H3>
<PRE>
protected void <B>cacheHandlerStarts</B>(org.apache.bcel.generic.CodeExceptionGen[]&nbsp;excHandlers)</PRE>
<DL>
<DD>Reads the exception handlers associated with the method and caches
 the starting instruction handle for each handler.

 <p>During the sequence instrumentation process, this cache is
 consulted to determine whether a block is the lead block of an
 exception handler. If it is, a call to record the possible change in
 method (exceptional return) to the trace is inserted.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>excHandlers</CODE> - Table of exception handlers attached to the method.</DL>
</DD>
</DL>
<HR>

<A NAME="isNative(org.apache.bcel.generic.INVOKESTATIC, org.apache.bcel.generic.ConstantPoolGen)"><!-- --></A><H3>
isNative</H3>
<PRE>
public static final boolean <B>isNative</B>(org.apache.bcel.generic.INVOKESTATIC&nbsp;call,
                                     org.apache.bcel.generic.ConstantPoolGen&nbsp;cpg)
                              throws java.lang.ClassNotFoundException</PRE>
<DL>
<DD>Reports whether a static method is implemented in native code. The
 answer will not be reliable in the presence of runtime reflective
 class loading.

 <p><em>The result of this method cannot be trusted if called on a
 non-static method!</em> No static guarantee can be made that a virtual
 method will always call a native implementation, since it may
 depend on the receiver type of the object.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>call</CODE> - Invoke instruction for the call that is to be checked
 for native implementation.<DD><CODE>cpg</CODE> - Constant pool for the class in which the call resides.
<DT><B>Returns:</B><DD><code>true</code> if the static method binds to a native
 implementation.
<DT><B>Throws:</B>
<DD><CODE>java.lang.ClassNotFoundException</CODE> - If a class needed to determine the
 result cannot be found on the classpath.</DL>
</DD>
</DL>
<HR>

<A NAME="isPossiblyNative(org.apache.bcel.generic.InvokeInstruction, org.apache.bcel.generic.ConstantPoolGen, sofya.graphs.irg.IRG)"><!-- --></A><H3>
isPossiblyNative</H3>
<PRE>
public static final boolean <B>isPossiblyNative</B>(org.apache.bcel.generic.InvokeInstruction&nbsp;call,
                                             org.apache.bcel.generic.ConstantPoolGen&nbsp;cpg,
                                             <A HREF="../../sofya/graphs/irg/IRG.html" title="class in sofya.graphs.irg">IRG</A>&nbsp;irg)
                                      throws java.lang.ClassNotFoundException</PRE>
<DL>
<DD>Reports whether a method call might possibly bind to a native
 implementation.
 
 <p>This method judges whether the call might possibly invoke
 a native method by analyzing an interclass relation graph to
 determine a conservative estimate of the possible bindings
 for the call. If there are any classes in the system not
 included in the IRG, or if the system makes use of reflective
 class loading or dynamic class generation, the result of this
 message is not guaranteed to be correct.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>call</CODE> - Invoke instruction for the call that is to be checked.<DD><CODE>cpg</CODE> - Constant pool for the class in which the call resides.<DD><CODE>irg</CODE> - Interclass relation graph for the system, constituting
 the class relation data that will be used to determine possible
 call bindings.
<DT><B>Returns:</B><DD><code>true</code> if the call can possibly bind to a
 native implementation of the method.
<DT><B>Throws:</B>
<DD><CODE>java.lang.ClassNotFoundException</CODE> - If a class needed to determine the
 result cannot be found on the classpath.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/ed/CoverageListenerManager.html" title="interface in sofya.ed"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sofya/ed/ParameterValueAbsentException.html" title="class in sofya.ed"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/ed/Instrumentor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Instrumentor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
