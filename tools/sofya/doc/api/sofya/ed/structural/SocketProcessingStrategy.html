<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Fri Oct 28 08:36:13 CDT 2011 -->
<TITLE>
SocketProcessingStrategy (Sofya API Documentation)
</TITLE>

<META NAME="date" CONTENT="2011-10-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SocketProcessingStrategy (Sofya API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProbeImpl.html" title="class in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/SocketProcessingStrategy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SocketProcessingStrategy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.ed.structural</FONT>
<BR>
Interface SocketProcessingStrategy</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../sofya/ed/structural/ActiveComponent.html" title="interface in sofya.ed.structural">ActiveComponent</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../sofya/ed/structural/processors/AbstractSocketProcessingStrategy.html" title="class in sofya.ed.structural.processors">AbstractSocketProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/BlockCoverageProcessingStrategy.html" title="class in sofya.ed.structural.processors">BlockCoverageProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/BlockSequenceProcessingStrategy.html" title="class in sofya.ed.structural.processors">BlockSequenceProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/BranchCoverageProcessingStrategy.html" title="class in sofya.ed.structural.processors">BranchCoverageProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/BranchSequenceProcessingStrategy.html" title="class in sofya.ed.structural.processors">BranchSequenceProcessingStrategy</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>SocketProcessingStrategy</B><DT>extends <A HREF="../../../sofya/ed/structural/ActiveComponent.html" title="interface in sofya.ed.structural">ActiveComponent</A></DL>
</PRE>

<P>
<p>A socket processing strategy implements a strategy to be used by a
 <A HREF="../../../sofya/ed/structural/ProgramEventDispatcher.html" title="class in sofya.ed.structural"><CODE>ProgramEventDispatcher</CODE></A> to receive probes received from a subject
 communicating using a socket connection and dispatch them as events.</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>10/31/2006</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#dispatcherStarting()">dispatcherStarting</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message sent by the event dispatcher to indicate that it is about to
 start receiving data to publish its event stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#dispatcherStopped()">dispatcherStopped</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message sent by the event dispatcher to indicate that it has stopped
 receiving data used to publish its event stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#doHandshake(java.nio.channels.SocketChannel)">doHandshake</A></B>(java.nio.channels.SocketChannel&nbsp;commChannel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes the handshake procedure with the socket probe.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#processProbes(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)">processProbes</A></B>(java.nio.channels.SocketChannel&nbsp;recvChannel,
              <A HREF="../../../sofya/ed/structural/ControlData.html" title="class in sofya.ed.structural">ControlData</A>&nbsp;cntrl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The standard trace processing loop, used for all subjects except
 other event dispatchers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#processProbesSynchronized(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)">processProbesSynchronized</A></B>(java.nio.channels.SocketChannel&nbsp;recvChannel,
                          <A HREF="../../../sofya/ed/structural/ControlData.html" title="class in sofya.ed.structural">ControlData</A>&nbsp;cntrl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The synchronized trace processing loop.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_sofya.ed.structural.ActiveComponent"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface sofya.ed.structural.<A HREF="../../../sofya/ed/structural/ActiveComponent.html" title="interface in sofya.ed.structural">ActiveComponent</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../sofya/ed/structural/ActiveComponent.html#configure(java.util.List)">configure</A>, <A HREF="../../../sofya/ed/structural/ActiveComponent.html#isReady()">isReady</A>, <A HREF="../../../sofya/ed/structural/ActiveComponent.html#register(sofya.ed.structural.EventDispatcherConfiguration)">register</A>, <A HREF="../../../sofya/ed/structural/ActiveComponent.html#release()">release</A>, <A HREF="../../../sofya/ed/structural/ActiveComponent.html#reset()">reset</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="dispatcherStarting()"><!-- --></A><H3>
dispatcherStarting</H3>
<PRE>
void <B>dispatcherStarting</B>()</PRE>
<DL>
<DD>Message sent by the event dispatcher to indicate that it is about to
 start receiving data to publish its event stream.

 <p>This message provides the processing strategy an opportunity to
 take some action prior to handling the event stream, such as
 issuing a message to listeners.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="dispatcherStopped()"><!-- --></A><H3>
dispatcherStopped</H3>
<PRE>
void <B>dispatcherStopped</B>()</PRE>
<DL>
<DD>Message sent by the event dispatcher to indicate that it has stopped
 receiving data used to publish its event stream.

 <p>This message provides the processing strategy an opportunity to
 take some action after handling the event stream, such as issuing
 a message to listeners.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="doHandshake(java.nio.channels.SocketChannel)"><!-- --></A><H3>
doHandshake</H3>
<PRE>
void <B>doHandshake</B>(java.nio.channels.SocketChannel&nbsp;commChannel)
                 throws <A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.ExecException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.ExecException</A>,
                        java.io.IOException</PRE>
<DL>
<DD>Executes the handshake procedure with the socket probe.

 <p>This method should check whether the type of instrumentation indicated
 by the socket probe is appropriate for this processing strategy. If it is
 not, an error response should be sent to the socket probe and an
 exception thrown. Otherwise, the integer code for the form of
 instrumentation to be processed should be returned.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>commChannel</CODE> - Main communications socket which is connected to the
 socket probe.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../sofya/ed/structural/AbstractEventDispatcher.ExecException.html" title="class in sofya.ed.structural">AbstractEventDispatcher.ExecException</A></CODE> - If the instrumentation in the subject is not
 appropriate for this type of filter.
<DD><CODE>java.io.IOException</CODE> - If there is any error communicating through
 the socket.</DL>
</DD>
</DL>
<HR>

<A NAME="processProbes(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)"><!-- --></A><H3>
processProbes</H3>
<PRE>
void <B>processProbes</B>(java.nio.channels.SocketChannel&nbsp;recvChannel,
                   <A HREF="../../../sofya/ed/structural/ControlData.html" title="class in sofya.ed.structural">ControlData</A>&nbsp;cntrl)</PRE>
<DL>
<DD>The standard trace processing loop, used for all subjects except
 other event dispatchers.

 <p>The run loop waits for the subject to negotiate a socket connection
 and then begins processing trace messages until the socket stream is
 closed. If the subject is not instrumented, this loop will be killed
 while waiting for the subject to connect when the main thread calls
 <A HREF="../../../sofya/ed/structural/ProgramEventDispatcher.html#stopServer()"><CODE>ProgramEventDispatcher.stopServer()</CODE></A>.</p>

 <p>A standard trace processing loop is provided distinct from the
 synchronized version so that the cost of synchronization is not
 incurred for all subjects. This also avoids complications related to
 determining when to strip timestamps from trace messages. The cost of
 this implementation is that you must remember to update both this
 method and <A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#processProbesSynchronized(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)"><CODE>processProbesSynchronized(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)</CODE></A> when
 making changes to how trace messages are processed.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processProbesSynchronized(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)"><!-- --></A><H3>
processProbesSynchronized</H3>
<PRE>
void <B>processProbesSynchronized</B>(java.nio.channels.SocketChannel&nbsp;recvChannel,
                               <A HREF="../../../sofya/ed/structural/ControlData.html" title="class in sofya.ed.structural">ControlData</A>&nbsp;cntrl)</PRE>
<DL>
<DD>The synchronized trace processing loop.

 <p>The processing performed by this run loop should be functionally
 equivalent to that of <A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#processProbes(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)"><CODE>processProbes(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)</CODE></A>. The only
 difference is that this loop should synchronize access to the
 listeners.</p>

 <p>Note: This method is only expected to synchronize two threads.
 The event dispatcher will never execute this method from more than
 two threads, as there is no reason to do so.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProbeImpl.html" title="class in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/SocketProcessingStrategy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SocketProcessingStrategy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
