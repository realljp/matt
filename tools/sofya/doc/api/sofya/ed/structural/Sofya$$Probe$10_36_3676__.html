<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Fri Oct 28 08:36:13 CDT 2011 -->
<TITLE>
Sofya$$Probe$10_36_3676__ (Sofya API Documentation)
</TITLE>

<META NAME="date" CONTENT="2011-10-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Sofya$$Probe$10_36_3676__ (Sofya API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html" title="interface in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.ImplLoader.html" title="class in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Sofya$$Probe$10_36_3676__.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.ed.structural</FONT>
<BR>
Interface Sofya$$Probe$10_36_3676__</H2>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../sofya/ed/structural/JUnitProcessingStrategy.html" title="interface in sofya.ed.structural">JUnitProcessingStrategy</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../sofya/ed/structural/processors/AbstractJUnitCoverageProcessingStrategy.html" title="class in sofya.ed.structural.processors">AbstractJUnitCoverageProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/AbstractJUnitProcessingStrategy.html" title="class in sofya.ed.structural.processors">AbstractJUnitProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/JUnitBlockCoverageProcessingStrategy.html" title="class in sofya.ed.structural.processors">JUnitBlockCoverageProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/JUnitBlockSequenceProcessingStrategy.html" title="class in sofya.ed.structural.processors">JUnitBlockSequenceProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/JUnitBranchCoverageProcessingStrategy.html" title="class in sofya.ed.structural.processors">JUnitBranchCoverageProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/processors/JUnitBranchSequenceProcessingStrategy.html" title="class in sofya.ed.structural.processors">JUnitBranchSequenceProcessingStrategy</A>, <A HREF="../../../sofya/ed/structural/JUnitEventDispatcher.html" title="class in sofya.ed.structural">JUnitEventDispatcher</A>, <A HREF="../../../sofya/ed/structural/SocketProbeImpl.html" title="class in sofya.ed.structural">SocketProbeImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>Sofya$$Probe$10_36_3676__</B></DL>
</PRE>

<P>
A Sofya probe is responsible for transmitting trace data from the 
 instrumented program to the event dispatcher. It is calls to methods
 on this interface which are actually inserted into instrumented
 programs. The instrumentor is responsible for inserting a call to
 <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#start(int, int, boolean, boolean, int)"><CODE>start(int, int, boolean, boolean, int)</CODE></A> as the first executable
 instruction of an instrumented class.

 <p>To enable this mechanism to work with the greatest possible
 genericity, and to avoid naming and dynamic linking conflicts when an
 instrumented dispatcher is being run as a subject, this interface is
 handled in a special fashion. When a dispatcher runs, it constructs a
 jar file which contains this interface (and additional classes), and
 prepends the jar file to the bootstrap classpath for the subject. Thus
 when a subject seeks to resolve a call to the methods defined by this
 interface, the first definition of the interface to be located by the
 class loader is the one provided on the bootstrap classpath, including
 when the subject is an instrumented dispatcher. An isolation class
 loader is also provided on the bootstrap classpath, which is used to
 load the probe implementation, and any other Sofya classes or library
 classes that it requires. This isolates both the Sofya classes, and
 any library dependencies required by the probe implementation, from the
 application class loader. Thus, all other subject classes (including
 Sofya classes, if the subject is a Sofya event dispatcher) will be found
 by the regular application class loader in their expected locations on
 the subject's own classpath. Note that this also means that the probe
 runs inside the same JVM that is running the subject, so the fact that
 an instrumented dispatcher locates the shared probe before it locates
 its own is not problematic (it will however copy its own probe
 when constructing its own jar file for its subject).</p>

 <p>When the probe itself and any of its dependencies are instrumented,
 the instrumentor modifies the probe calls to invoke on an interface with
 a modified name. That alternately-named interface is created dynamically
 by the invoking dispatcher at runtime, and the probe implementation and
 its dependent classes are likewise patched to use alternate names. This
 ensures that the instrumentation in the probe implementation and its
 dependent classes does not call into the probe itself, causing infinite
 recursion. Instead, instrumentation is bound to alternately-named and
 uninstrumented copies of the probe implementation obtained from the
 top-level invoking event dispatcher.</p>

 <p>With this mechanism it is possible to create a chain of dispatchers
 executing other dispatchers as subjects, although intervention to set the
 ports correctly is required beyond the first subject dispatcher. This is
 likely only useful up to the second level of self analysis, as data
 obtained from further chaining is redundant. (The first level of self
 analysis will provide trace information for the
 <A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#processProbesSynchronized(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)"><CODE>SocketProcessingStrategy.processProbesSynchronized(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)</CODE></A> method
 and the second level of self analysis will provide trace information for
 <A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html#processProbes(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)"><CODE>SocketProcessingStrategy.processProbes(java.nio.channels.SocketChannel, sofya.ed.structural.ControlData)</CODE></A>).</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>11/08/2006</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
<DT><B>See Also:</B><DD><A HREF="../../../sofya/ed/structural/ProgramEventDispatcher.html" title="class in sofya.ed.structural"><CODE>ProgramEventDispatcher</CODE></A>, 
<A HREF="../../../sofya/ed/cfInstrumentor.html" title="class in sofya.ed"><CODE>cfInstrumentor</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.ImplLoader.html" title="class in sofya.ed.structural">Sofya$$Probe$10_36_3676__.ImplLoader</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loader used to initialize the <code>probe</code> field reference,
 as it is a final field, and custom static initializers are not
 permitted for interfaces.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.SequenceProbe.html" title="class in sofya.ed.structural">Sofya$$Probe$10_36_3676__.SequenceProbe</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Holder class for the sequence array, so that it does not get
 allocated when we are not using optimized sequence tracing
 instrumentation.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#BRANCH_EXIT_MARKER">BRANCH_EXIT_MARKER</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant which marks in the sequence array that the current
        method is exiting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#NEW_METHOD_MARKER">NEW_METHOD_MARKER</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant which marks that the next element in the object
        sequence array contains the index to a new method signature.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#probe">probe</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Globally visible reference to the actual probe implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#SEQUENCE_ARRAY_SIZE">SEQUENCE_ARRAY_SIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size of the array which records object sequence information
        when handling optimized sequence instrumentation.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#finish()">finish</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signals that the program has exited and the probe should shut down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#getObjectArray(java.lang.String, int)">getObjectArray</A></B>(java.lang.String&nbsp;mSignature,
               int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the byte array recording the coverage of trace objects for
 a given method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#markMethodInSequence(java.lang.String, int)">markMethodInSequence</A></B>(java.lang.String&nbsp;mSignature,
                     int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new method marker and index into the sequence array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#start(int, int, boolean, boolean, int)">start</A></B>(int&nbsp;port,
      int&nbsp;instMode,
      boolean&nbsp;doTimestamps,
      boolean&nbsp;useSignalSocket,
      int&nbsp;objType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the probe implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeObjectCount(java.lang.String, int)">writeObjectCount</A></B>(java.lang.String&nbsp;mSignature,
                 int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates the number of structural objects in the current method, to
 be transmitted so that the event dispatcher can notify listeners
 as necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeSequenceData()">writeSequenceData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transmits the current contents of the trace object sequence array
 to the event dispatcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeTraceMessage(int, java.lang.String)">writeTraceMessage</A></B>(int&nbsp;objData,
                  java.lang.String&nbsp;mSignature)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Records a trace event with the probe.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="probe"><!-- --></A><H3>
probe</H3>
<PRE>
static final <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A> <B>probe</B></PRE>
<DL>
<DD>Globally visible reference to the actual probe implementation.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="SEQUENCE_ARRAY_SIZE"><!-- --></A><H3>
SEQUENCE_ARRAY_SIZE</H3>
<PRE>
static final int <B>SEQUENCE_ARRAY_SIZE</B></PRE>
<DL>
<DD>Size of the array which records object sequence information
        when handling optimized sequence instrumentation.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#sofya.ed.structural.Sofya$$Probe$10_36_3676__.SEQUENCE_ARRAY_SIZE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="NEW_METHOD_MARKER"><!-- --></A><H3>
NEW_METHOD_MARKER</H3>
<PRE>
static final int <B>NEW_METHOD_MARKER</B></PRE>
<DL>
<DD>Constant which marks that the next element in the object
        sequence array contains the index to a new method signature.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#sofya.ed.structural.Sofya$$Probe$10_36_3676__.NEW_METHOD_MARKER">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="BRANCH_EXIT_MARKER"><!-- --></A><H3>
BRANCH_EXIT_MARKER</H3>
<PRE>
static final int <B>BRANCH_EXIT_MARKER</B></PRE>
<DL>
<DD>Constant which marks in the sequence array that the current
        method is exiting.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#sofya.ed.structural.Sofya$$Probe$10_36_3676__.BRANCH_EXIT_MARKER">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="start(int, int, boolean, boolean, int)"><!-- --></A><H3>
start</H3>
<PRE>
void <B>start</B>(int&nbsp;port,
           int&nbsp;instMode,
           boolean&nbsp;doTimestamps,
           boolean&nbsp;useSignalSocket,
           int&nbsp;objType)</PRE>
<DL>
<DD>Initializes the probe implementation.

 <p>Probe implementations should take precautions to ensure
 that all calls to this method after the first are ignored. The
 instrumentor cannot guarantee that this method will only be
 called once.</p>

 <p>The instrumentor should guarantee that a call to this method is
 inserted into the subject class as the first possible executable
 statement in the class, either in the static initializer
 (<i>&lt;clinit&gt;</i>) or in <i>main</i>. This will ensure that all
 instrumentation is transmitted correctly. If the probe itself is
 instrumented, a call to this method on the synthetic
 alternately-named copy of this interface will be
 inserted in its static initializer, which allows the probe to be
 traced without introducing infinite recursion problems.</p>

 <p>If the subject being run is an event dispacher, the subject
 dispatcher's probe will be running in its own subject's JVM. As a
 result, to trace the probe (logically considered a component of the
 subject event dispatcher), the main invoking dispatcher will need to
 accept two connections, one from the subject event dispatcher and
 one from the subject dispatcher's probe. For some types of
 instrumentation, this requires it to synchronize the trace
 packets it receives. When this is necessary, the
 <code>doTimestamping</code> flag should be set by the instrumentor,
 and the probe should respect this request by timestamping the
 trace events. Under no other circumstance should this flag be set.
 (See <A HREF="../../../sofya/ed/structural/ProgramEventDispatcher.html" title="class in sofya.ed.structural"><CODE>ProgramEventDispatcher</CODE></A>).</p>

 <p>All parameters should be set by the instrumentor.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>port</CODE> - Port number to be used, if the backing implementation
 uses a socket transport (alternately, this might be used for some
 other implementation-specific numeric address).<DD><CODE>instMode</CODE> - Integer flag specifying the type of instrumentation
 present in the subject.<DD><CODE>doTimestamps</CODE> - Flag indicating whether trace evens are to be
 timestamped. This is only used with the subject is an event dispatcher.<DD><CODE>useSignalSocket</CODE> - Flag indicating whether a signal socket
 connection should be made to the event dispatcher. This is only used
 when the subject is an event dispatcher.<DD><CODE>objType</CODE> - Integer flag specifying the type of program entity
 traced by the instrumentation present in the subject.</DL>
</DD>
</DL>
<HR>

<A NAME="finish()"><!-- --></A><H3>
finish</H3>
<PRE>
void <B>finish</B>()</PRE>
<DL>
<DD>Signals that the program has exited and the probe should shut down.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="writeObjectCount(java.lang.String, int)"><!-- --></A><H3>
writeObjectCount</H3>
<PRE>
void <B>writeObjectCount</B>(java.lang.String&nbsp;mSignature,
                      int&nbsp;objCount)</PRE>
<DL>
<DD>Indicates the number of structural objects in the current method, to
 be transmitted so that the event dispatcher can notify listeners
 as necessary.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the object count
 is being sent.<DD><CODE>objCount</CODE> - Number of objects in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeTraceMessage(int, java.lang.String)"><!-- --></A><H3>
writeTraceMessage</H3>
<PRE>
void <B>writeTraceMessage</B>(int&nbsp;objData,
                       java.lang.String&nbsp;mSignature)</PRE>
<DL>
<DD>Records a trace event with the probe.

 <p>A single threaded subject can only call this method sequentially,
 resulting in typical in-order processing of trace events.
 Multi-threaded subjects, however, may call this method from
 different threads, in which case the order of processing of
 trace events is not guaranteed to be deterministic.
 The actual transmission of the event should be synchronized,
 however, to ensure that the data will not be corrupted.</p>

 <p>This method may block briefly if an underlying buffer is filled,
 but should normally return immediately.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objData</CODE> - ID of the trace object marked by this probe.<DD><CODE>mSignature</CODE> - Full signature of the method which contains
 the trace object being marked.</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectArray(java.lang.String, int)"><!-- --></A><H3>
getObjectArray</H3>
<PRE>
byte[] <B>getObjectArray</B>(java.lang.String&nbsp;mSignature,
                      int&nbsp;objCount)</PRE>
<DL>
<DD>Gets the byte array recording the coverage of trace objects for
 a given method.

 <p>If this is the first time the method has been traced, an array of
 the necessary size should be allocated and initialized. Calls to
 this method are inserted at the beginning of methods in the subject
 by the instrumentor.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the byte array
 is to be retrieved. The signature guarantees uniqueness.<DD><CODE>objCount</CODE> - Number of trace objects in the method, used only
 when the array must be allocated. This value should be determined
 by the CFG builder and set by the instrumentor.
<DT><B>Returns:</B><DD>The byte array recording trace objects covered in the
 method.</DL>
</DD>
</DL>
<HR>

<A NAME="markMethodInSequence(java.lang.String, int)"><!-- --></A><H3>
markMethodInSequence</H3>
<PRE>
void <B>markMethodInSequence</B>(java.lang.String&nbsp;mSignature,
                          int&nbsp;objCount)</PRE>
<DL>
<DD>Inserts a new method marker and index into the sequence array.

 <p>A map is checked to see if an index has already been created for
 the given signature string. If it has, the existing index is
 retrieved, otherwise a new index is created and added. A new
 method marker is then inserted, followed by the index to the
 signature string. The index pointer is advanced by two so that
 it is left pointing to the next open element in the array.
 If advancing the pointer two elements will exceed the size of
 the array, the array is first transmitted and the
 pointer is reset to zero before proceeding.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method which has been entered
 and needs to be marked in the array.<DD><CODE>objCount</CODE> - Number of trace objects in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeSequenceData()"><!-- --></A><H3>
writeSequenceData</H3>
<PRE>
void <B>writeSequenceData</B>()</PRE>
<DL>
<DD>Transmits the current contents of the trace object sequence array
 to the event dispatcher.
 
 When this method returns, all of the object IDs currently in the
 array will have been sent and the array index pointer reset to zero.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html" title="interface in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.ImplLoader.html" title="class in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Sofya$$Probe$10_36_3676__.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
