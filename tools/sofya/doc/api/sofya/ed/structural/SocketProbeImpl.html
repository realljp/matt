<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Fri Oct 28 08:36:13 CDT 2011 -->
<TITLE>
SocketProbeImpl (Sofya API Documentation)
</TITLE>

<META NAME="date" CONTENT="2011-10-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SocketProbeImpl (Sofya API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProbe.html" title="class in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html" title="interface in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/SocketProbeImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SocketProbeImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.ed.structural</FONT>
<BR>
Class SocketProbeImpl</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>sofya.ed.structural.SocketProbeImpl</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable, <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public final class <B>SocketProbeImpl</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A>, java.lang.Runnable</DL>
</PRE>

<P>
Provides the default socket-based probe implementation for
 structural tracing.
 
 <p>This class establishes a persistent socket connection to the event
 dispatcher on a specified port and implements the probe methods
 to send trace packets to the dispatcher over that socket. When
 <A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#start(int, int, boolean, boolean, int)"><CODE>start(int, int, boolean, boolean, int)</CODE></A> is called, the
 main socket connection is established, the probe runs itself
 as a daemon thread, and connects and begins listening
 to the signal socket if appropriate.</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>06/29/2007</DD>
<DT><B>Author:</B></DT>
  <DD>Alex Kinneer</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_sofya.ed.structural.Sofya$$Probe$10_36_3676__"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface sofya.ed.structural.<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.ImplLoader.html" title="class in sofya.ed.structural">Sofya$$Probe$10_36_3676__.ImplLoader</A>, <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.SequenceProbe.html" title="class in sofya.ed.structural">Sofya$$Probe$10_36_3676__.SequenceProbe</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_sofya.ed.structural.Sofya$$Probe$10_36_3676__"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface sofya.ed.structural.<A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#BRANCH_EXIT_MARKER">BRANCH_EXIT_MARKER</A>, <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#NEW_METHOD_MARKER">NEW_METHOD_MARKER</A>, <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#probe">probe</A>, <A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#SEQUENCE_ARRAY_SIZE">SEQUENCE_ARRAY_SIZE</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#SocketProbeImpl()">SocketProbeImpl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#finish()">finish</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signals that the program has exited and the probe should shut down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#getObjectArray(java.lang.String, int)">getObjectArray</A></B>(java.lang.String&nbsp;mSignature,
               int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the byte array recording the coverage of trace objects for
 a given method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#markMethodInSequence(java.lang.String, int)">markMethodInSequence</A></B>(java.lang.String&nbsp;mSignature,
                     int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new method marker and index into the sequence array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs the (daemon) thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#start(int, int, boolean, boolean, int)">start</A></B>(int&nbsp;port,
      int&nbsp;instMode,
      boolean&nbsp;doTimestamps,
      boolean&nbsp;useSignalSocket,
      int&nbsp;objType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the probe implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#writeObjectCount(java.lang.String, int)">writeObjectCount</A></B>(java.lang.String&nbsp;mSignature,
                 int&nbsp;objCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates the number of structural objects in the current method, to
 be transmitted so that the event dispatcher can notify listeners
 as necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#writeSequenceData()">writeSequenceData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transmits the current contents of the trace object sequence array
 to the event dispatcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../sofya/ed/structural/SocketProbeImpl.html#writeTraceMessage(int, java.lang.String)">writeTraceMessage</A></B>(int&nbsp;bId,
                  java.lang.String&nbsp;mSignature)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Records a trace event with the probe.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SocketProbeImpl()"><!-- --></A><H3>
SocketProbeImpl</H3>
<PRE>
public <B>SocketProbeImpl</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="start(int, int, boolean, boolean, int)"><!-- --></A><H3>
start</H3>
<PRE>
public final void <B>start</B>(int&nbsp;port,
                        int&nbsp;instMode,
                        boolean&nbsp;doTimestamps,
                        boolean&nbsp;useSignalSocket,
                        int&nbsp;objType)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#start(int, int, boolean, boolean, int)">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Initializes the probe implementation.

 <p>Probe implementations should take precautions to ensure
 that all calls to this method after the first are ignored. The
 instrumentor cannot guarantee that this method will only be
 called once.</p>

 <p>The instrumentor should guarantee that a call to this method is
 inserted into the subject class as the first possible executable
 statement in the class, either in the static initializer
 (<i>&lt;clinit&gt;</i>) or in <i>main</i>. This will ensure that all
 instrumentation is transmitted correctly. If the probe itself is
 instrumented, a call to this method on the synthetic
 alternately-named copy of this interface will be
 inserted in its static initializer, which allows the probe to be
 traced without introducing infinite recursion problems.</p>

 <p>If the subject being run is an event dispacher, the subject
 dispatcher's probe will be running in its own subject's JVM. As a
 result, to trace the probe (logically considered a component of the
 subject event dispatcher), the main invoking dispatcher will need to
 accept two connections, one from the subject event dispatcher and
 one from the subject dispatcher's probe. For some types of
 instrumentation, this requires it to synchronize the trace
 packets it receives. When this is necessary, the
 <code>doTimestamping</code> flag should be set by the instrumentor,
 and the probe should respect this request by timestamping the
 trace events. Under no other circumstance should this flag be set.
 (See <A HREF="../../../sofya/ed/structural/ProgramEventDispatcher.html" title="class in sofya.ed.structural"><CODE>ProgramEventDispatcher</CODE></A>).</p>

 <p>All parameters should be set by the instrumentor.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#start(int, int, boolean, boolean, int)">start</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>port</CODE> - Port number to be used, if the backing implementation
 uses a socket transport (alternately, this might be used for some
 other implementation-specific numeric address).<DD><CODE>instMode</CODE> - Integer flag specifying the type of instrumentation
 present in the subject.<DD><CODE>doTimestamps</CODE> - Flag indicating whether trace evens are to be
 timestamped. This is only used with the subject is an event dispatcher.<DD><CODE>useSignalSocket</CODE> - Flag indicating whether a signal socket
 connection should be made to the event dispatcher. This is only used
 when the subject is an event dispatcher.<DD><CODE>objType</CODE> - Integer flag specifying the type of program entity
 traced by the instrumentation present in the subject.</DL>
</DD>
</DL>
<HR>

<A NAME="finish()"><!-- --></A><H3>
finish</H3>
<PRE>
public final void <B>finish</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#finish()">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Signals that the program has exited and the probe should shut down.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#finish()">finish</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="writeObjectCount(java.lang.String, int)"><!-- --></A><H3>
writeObjectCount</H3>
<PRE>
public final void <B>writeObjectCount</B>(java.lang.String&nbsp;mSignature,
                                   int&nbsp;objCount)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeObjectCount(java.lang.String, int)">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Indicates the number of structural objects in the current method, to
 be transmitted so that the event dispatcher can notify listeners
 as necessary.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeObjectCount(java.lang.String, int)">writeObjectCount</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the object count
 is being sent.<DD><CODE>objCount</CODE> - Number of objects in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeTraceMessage(int, java.lang.String)"><!-- --></A><H3>
writeTraceMessage</H3>
<PRE>
public final void <B>writeTraceMessage</B>(int&nbsp;bId,
                                    java.lang.String&nbsp;mSignature)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeTraceMessage(int, java.lang.String)">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Records a trace event with the probe.

 <p>A single threaded subject can only call this method sequentially,
 resulting in typical in-order processing of trace events.
 Multi-threaded subjects, however, may call this method from
 different threads, in which case the order of processing of
 trace events is not guaranteed to be deterministic.
 The actual transmission of the event should be synchronized,
 however, to ensure that the data will not be corrupted.</p>

 <p>This method may block briefly if an underlying buffer is filled,
 but should normally return immediately.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeTraceMessage(int, java.lang.String)">writeTraceMessage</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bId</CODE> - ID of the trace object marked by this probe.<DD><CODE>mSignature</CODE> - Full signature of the method which contains
 the trace object being marked.</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectArray(java.lang.String, int)"><!-- --></A><H3>
getObjectArray</H3>
<PRE>
public final byte[] <B>getObjectArray</B>(java.lang.String&nbsp;mSignature,
                                   int&nbsp;objCount)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#getObjectArray(java.lang.String, int)">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Gets the byte array recording the coverage of trace objects for
 a given method.

 <p>If this is the first time the method has been traced, an array of
 the necessary size should be allocated and initialized. Calls to
 this method are inserted at the beginning of methods in the subject
 by the instrumentor.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#getObjectArray(java.lang.String, int)">getObjectArray</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method for which the byte array
 is to be retrieved. The signature guarantees uniqueness.<DD><CODE>objCount</CODE> - Number of trace objects in the method, used only
 when the array must be allocated. This value should be determined
 by the CFG builder and set by the instrumentor.
<DT><B>Returns:</B><DD>The byte array recording trace objects covered in the
 method.</DL>
</DD>
</DL>
<HR>

<A NAME="markMethodInSequence(java.lang.String, int)"><!-- --></A><H3>
markMethodInSequence</H3>
<PRE>
public final void <B>markMethodInSequence</B>(java.lang.String&nbsp;mSignature,
                                       int&nbsp;objCount)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#markMethodInSequence(java.lang.String, int)">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Inserts a new method marker and index into the sequence array.

 <p>A map is checked to see if an index has already been created for
 the given signature string. If it has, the existing index is
 retrieved, otherwise a new index is created and added. A new
 method marker is then inserted, followed by the index to the
 signature string. The index pointer is advanced by two so that
 it is left pointing to the next open element in the array.
 If advancing the pointer two elements will exceed the size of
 the array, the array is first transmitted and the
 pointer is reset to zero before proceeding.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#markMethodInSequence(java.lang.String, int)">markMethodInSequence</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mSignature</CODE> - Signature of the method which has been entered
 and needs to be marked in the array.<DD><CODE>objCount</CODE> - Number of trace objects in the method.</DL>
</DD>
</DL>
<HR>

<A NAME="writeSequenceData()"><!-- --></A><H3>
writeSequenceData</H3>
<PRE>
public final void <B>writeSequenceData</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeSequenceData()">Sofya$$Probe$10_36_3676__</A></CODE></B></DD>
<DD>Transmits the current contents of the trace object sequence array
 to the event dispatcher.
 
 When this method returns, all of the object IDs currently in the
 array will have been sent and the array index pointer reset to zero.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html#writeSequenceData()">writeSequenceData</A></CODE> in interface <CODE><A HREF="../../../sofya/ed/structural/Sofya$$Probe$10_36_3676__.html" title="interface in sofya.ed.structural">Sofya$$Probe$10_36_3676__</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public final void <B>run</B>()</PRE>
<DL>
<DD>Runs the (daemon) thread.

 <p>Note that the run method is uninterruptable. Instead, since it is
 running as a daemon thread, it will die automatically when the 
 subject exits.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProbe.html" title="class in sofya.ed.structural"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../sofya/ed/structural/SocketProcessingStrategy.html" title="interface in sofya.ed.structural"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?sofya/ed/structural/SocketProbeImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SocketProbeImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
