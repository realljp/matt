<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Fri Oct 28 08:36:10 CDT 2011 -->
<TITLE>
DejaVu (Sofya API Documentation)
</TITLE>

<META NAME="date" CONTENT="2011-10-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DejaVu (Sofya API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/apps/AtomicityChecker.html" title="class in sofya.apps"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/apps/DejaVu.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DejaVu.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sofya.apps</FONT>
<BR>
Class DejaVu</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>sofya.apps.DejaVu</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DejaVu</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>DejaVu is a regression test selection tool for Java, implemented as
 part of the Sofya toolset.</p>

 <p>Usage:
 <code>java sofya.apps.DejaVu &lt;prog1&gt; &lt;prog2&gt; &lt;thist&gt;
 -t [slt] -tag1 &lt;tag1&gt; -tag2 &lt;tag2&gt;<br>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;prog1&gt;: prog file for version one
 of the program<br>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;prog2&gt;: prog file for version two
 of the program<br>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thist&gt;: full path to test
 history file.<br>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-t &lt;[s]tatistical | [l]ist | [t]abular&gt;:
 output format<br>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-tag1: Database tag for version one of
 the program<br>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-tag2: Database tag for version two of
 the program<br></code>
 </p>

 <p>The first three parameters <strong>must</strong> be in the order shown.
 The order of the remaining parameters is not important.</p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>08/02/2007</DD>
<DT><B>Author:</B></DT>
  <DD>Rogan Creswick, Alex Kinneer</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../sofya/apps/DejaVu.html#DejaVu()">DejaVu</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Standard constructor for DejaVu.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../sofya/apps/DejaVu.html#DejaVu(boolean)">DejaVu</A></B>(boolean&nbsp;saveDangerousEdges)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs an instance of DejaVu, specifying whether it should generate
 an output file containing the dangerous edges selected by the
 graph traverser.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/apps/DejaVu.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;argv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entry point for DejaVu.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/apps/DejaVu.html#print(int)">print</A></B>(int&nbsp;format)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores the selected test information in the database directory as
 '<i>/&lt;tag2&gt;/output-&lt;tag1&gt;-&lt;tag2&gt;.dejavu</i>', and
 displays the results on screen in the specified format.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/apps/DejaVu.html#printUsage()">printUsage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prints the usage message for DejaVu and exits.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sofya/apps/DejaVu.html#selectTests(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">selectTests</A></B>(java.lang.String&nbsp;file1,
            java.lang.String&nbsp;file2,
            java.lang.String&nbsp;thist,
            java.lang.String&nbsp;oldTag,
            java.lang.String&nbsp;newTag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selects the tests which traverse changes between the two versions
 of the subject program.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DejaVu()"><!-- --></A><H3>
DejaVu</H3>
<PRE>
public <B>DejaVu</B>()</PRE>
<DL>
<DD>Standard constructor for DejaVu.
<P>
</DL>
<HR>

<A NAME="DejaVu(boolean)"><!-- --></A><H3>
DejaVu</H3>
<PRE>
public <B>DejaVu</B>(boolean&nbsp;saveDangerousEdges)</PRE>
<DL>
<DD>Constructs an instance of DejaVu, specifying whether it should generate
 an output file containing the dangerous edges selected by the
 graph traverser.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>saveDangerousEdges</CODE> - Flag specifying whether the dangerous edges
 should be saved to an output file.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="selectTests(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
selectTests</H3>
<PRE>
public void <B>selectTests</B>(java.lang.String&nbsp;file1,
                        java.lang.String&nbsp;file2,
                        java.lang.String&nbsp;thist,
                        java.lang.String&nbsp;oldTag,
                        java.lang.String&nbsp;newTag)
                 throws java.io.FileNotFoundException,
                        <A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A>,
                        <A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A>,
                        java.io.IOException</PRE>
<DL>
<DD>Selects the tests which traverse changes between the two versions
 of the subject program. This method encapsulates the core
 functionality of DejaVu.

 <p>The following preconditions must be true:
 <ol>
 <li>Control flow and map files must exist for all classes
 specified in the prog files.</li>
 <li>The path provided on the first line of each prog file
 must specify a valid location to the base of the subject
 program's source tree (it must be equivalent to the
 classpath that would be used to run the program). Package
 names are used to complete paths to actual class files
 named in the prog file.</li>
 <li>A test history file must exist for the subject,
 constructed from traced execution of the first version of
 the program.</li>
 </ol>
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file1</CODE> - Name of the prog file for the first version of the program<DD><CODE>file2</CODE> - Name of the prog file for the second version of the program<DD><CODE>thist</CODE> - Path to the test history file, which may be either absolute
 or relative to current directory.<DD><CODE>oldTag</CODE> - Database tag for the first version of the program.<DD><CODE>newTag</CODE> - Database tag for the second version of the program.
<DT><B>Throws:</B>
<DD><CODE>java.io.FileNotFoundException</CODE> - If an input file cannot be found.
<DD><CODE><A HREF="../../sofya/base/exceptions/BadFileFormatException.html" title="class in sofya.base.exceptions">BadFileFormatException</A></CODE> - If an input file is corrupted.
<DD><CODE><A HREF="../../sofya/base/exceptions/MethodNotFoundException.html" title="class in sofya.base.exceptions">MethodNotFoundException</A></CODE> - If some input files reference different
 classes than others, or are otherwise inconsistent in some manner that
 prevents method data from being properly correlated.
<DD><CODE>java.io.IOException</CODE> - For any other type of IO error that prevents
 successful reading of any input file.</DL>
</DD>
</DL>
<HR>

<A NAME="print(int)"><!-- --></A><H3>
print</H3>
<PRE>
public void <B>print</B>(int&nbsp;format)
           throws java.io.IOException</PRE>
<DL>
<DD>Stores the selected test information in the database directory as
 '<i>/&lt;tag2&gt;/output-&lt;tag1&gt;-&lt;tag2&gt;.dejavu</i>', and
 displays the results on screen in the specified format.

 <p><strong>Note:</strong> You must first call
 <A HREF="../../sofya/apps/DejaVu.html#selectTests(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><CODE>selectTests(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)</CODE></A>.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>format</CODE> - Specifies the format of the output to be displayed
 to the console. The following values are acceptable:
 <ul>
 <li><A HREF="../../sofya/viewers/TestSelectionViewer.html#STATISTICAL"><CODE>TestSelectionViewer.STATISTICAL</CODE></A></li>
 <li><A HREF="../../sofya/viewers/TestSelectionViewer.html#TABULAR"><CODE>TestSelectionViewer.TABULAR</CODE></A></li>
 <li><A HREF="../../sofya/viewers/TestSelectionViewer.html#LIST"><CODE>TestSelectionViewer.LIST</CODE></A></li>
 </ul>

 database file is an empty snew HashMap()tring.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - For any IO error that prevents successful
 writing of the database file or display of the test selection
 results.</DL>
</DD>
</DL>
<HR>

<A NAME="printUsage()"><!-- --></A><H3>
printUsage</H3>
<PRE>
public static void <B>printUsage</B>()</PRE>
<DL>
<DD>Prints the usage message for DejaVu and exits.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;argv)</PRE>
<DL>
<DD>Entry point for DejaVu.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>argv</CODE> - Command-line arguments.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sofya/apps/AtomicityChecker.html" title="class in sofya.apps"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?sofya/apps/DejaVu.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DejaVu.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
